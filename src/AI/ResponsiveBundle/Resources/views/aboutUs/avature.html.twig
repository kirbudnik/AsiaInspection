{% extends '::base.html.twig' %}
{% block title %}{% if pageTitle is defined %}{{pageTitle}}{% endif %}{% endblock %}
{% block pagename %}CareerAvature{% endblock %}
{% block pageDescription %}{% if pageDesc is defined %}{{pageDesc}}{% endif %}{% endblock %}

{% block body %}
    <script type="text/javascript">
        window.addEventListener('message', function(event) {

            // Check if the recieved message is just a number (old method)
            if( $.isNumeric(event.data) ) {
                // Format the data object to fit the new format
                var data = {height:event.data, scroll:0};
            } else {
                // Otherwise, just use the passed data
                var data = event.data;
                // Set defaults if the correct data isn't passed
                if(typeof(data.height) == 'undefined') data.height = 2000;
                if(typeof(data.scroll) == 'undefined') data.scroll = 0;
            }

            // Set the page height to the given height
            var height = parseInt(data.height);
            document.getElementById('avatureFrame').style.height = height + "px";

            // Scroll to the defined position
            var scrollPos = parseInt(data.scroll);
            $(window).scrollTop(scrollPos);

        }, false);

        $(window).bind("load", function() {
            $(window).scrollTop(0);
        });
    </script>
    <iframe id="avatureFrame" src="https://asiainspection.avature.net/Careers" frameborder="0" border="0" framespacing="0" scrolling="no" style="width:100%; height:100vh; overflow-x:hidden; overflow-y:hidden;"></iframe>
{% endblock %}